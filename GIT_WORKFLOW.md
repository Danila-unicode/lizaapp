# Git Workflow для WebRTC проекта

## Основные команды

### Инициализация (уже выполнено)
```bash
git init
git add .
git commit -m "Initial commit: WebRTC signaling test application with P2P functionality"
```

### Ежедневная работа

#### 1. Проверка статуса
```bash
git status
```

#### 2. Добавление изменений
```bash
# Добавить конкретный файл
git add simple-signal-test-websocket.html

# Добавить все изменения
git add .

# Добавить все изменения в текущей директории
git add -A
```

#### 3. Коммит изменений
```bash
# Коммит с сообщением
git commit -m "Описание изменений"

# Примеры сообщений:
git commit -m "Fix: исправлена логика показа кнопок для инициатора"
git commit -m "Feature: добавлена P2P функциональность"
git commit -m "Update: обновлена документация"
```

#### 4. Просмотр истории
```bash
# Краткая история
git log --oneline

# Подробная история
git log

# История конкретного файла
git log simple-signal-test-websocket.html
```

### Работа с ветками

#### Создание ветки для новой функции
```bash
# Создать и переключиться на новую ветку
git checkout -b feature/new-functionality

# Или в новых версиях git
git switch -c feature/new-functionality
```

#### Переключение между ветками
```bash
# Переключиться на master
git checkout master

# Переключиться на ветку
git checkout feature/new-functionality
```

#### Слияние веток
```bash
# Переключиться на master
git checkout master

# Слить ветку
git merge feature/new-functionality

# Удалить ветку после слияния
git branch -d feature/new-functionality
```

### Откат изменений

#### Отменить изменения в рабочей директории
```bash
# Отменить изменения в конкретном файле
git checkout -- simple-signal-test-websocket.html

# Отменить все изменения
git checkout -- .
```

#### Отменить последний коммит
```bash
# Отменить коммит, сохранив изменения
git reset --soft HEAD~1

# Отменить коммит, удалив изменения
git reset --hard HEAD~1
```

### Теги для версий

#### Создание тега
```bash
# Создать тег для текущего коммита
git tag -a v1.2.0 -m "Версия 1.2.0: исправлена логика кнопок"

# Создать тег для конкретного коммита
git tag -a v1.1.0 -m "Версия 1.1.0: добавлена P2P функциональность" cbf6b37
```

#### Просмотр тегов
```bash
# Список всех тегов
git tag

# Информация о теге
git show v1.2.0
```

### Рекомендуемый workflow

1. **Перед началом работы**
   ```bash
   git status
   git pull  # если есть удаленный репозиторий
   ```

2. **Во время работы**
   ```bash
   # Делать изменения в файлах
   # Периодически проверять статус
   git status
   ```

3. **После завершения работы**
   ```bash
   # Добавить изменения
   git add .
   
   # Сделать коммит
   git commit -m "Описание изменений"
   
   # Отправить на удаленный репозиторий (если есть)
   git push
   ```

4. **При создании новой версии**
   ```bash
   # Создать тег
   git tag -a v1.3.0 -m "Версия 1.3.0: описание изменений"
   
   # Отправить тег
   git push origin v1.3.0
   ```

## Структура сообщений коммитов

- `Fix:` - исправление ошибок
- `Feature:` - новая функциональность
- `Update:` - обновление существующей функциональности
- `Docs:` - обновление документации
- `Refactor:` - рефакторинг кода
- `Test:` - добавление тестов

## Примеры

```bash
# Исправление ошибки
git commit -m "Fix: исправлена логика показа кнопок только инициатору"

# Новая функция
git commit -m "Feature: добавлена кнопка 'Начать звонок' для P2P соединения"

# Обновление документации
git commit -m "Docs: обновлено руководство по тестированию P2P"

# Рефакторинг
git commit -m "Refactor: вынесена логика обновления кнопок в отдельную функцию"
```
